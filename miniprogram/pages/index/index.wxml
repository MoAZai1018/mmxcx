<!--index.wxml-->
<image class="bg-image" style="display: {{displayDaka}};" mode="widthFix" src="./IMG_1222.png"></image>
<image class="bg-image" style="display: {{displayLijia}};" mode="widthFix" src="./IMG_1256.png"></image>

<!--æƒ…ä¾£å¼¹æ¡† -->
<modal hidden="{{myhiddenmodalput}}"   title="oppid{{openid}}æˆ‘ä»¬å·²ç»ğŸ‘©â€â¤ï¸â€ğŸ‘¨{{anniversary}} å¤©" confirm-text="çœŸå¥½"   bindconfirm="myConfirmM" no-cancel="true" >
</modal>
<!--æ¸¸å®¢å¼¹æ¡† -->
<modal hidden="{{hiddenmodalput}}"   title="è«è«å’Œå†¼å§å§å·²ç»ğŸ‘©â€â¤ï¸â€ğŸ‘¨{{anniversary}} å¤©" confirm-text="éªŒè¯" cancel-text="å–æ¶ˆ" bindcancel="cancelM" bindconfirm="confirmM" >
    <input bindinput='iPSW' type='text' placeholder="è¯·è¾“å…¥çˆ±æƒ…å¯†ç ..." auto-focus/>
</modal>



<view class="container">

<view class='power'>
 <!--åˆ‡æ¢æŒ‰é’®-->
 <view class="switch-type" >
      <view class="btn {{currentSelectTripType == 'daka' ? 'active' : ''}}" bindtap='selectedDaka' data-id='daka'>æ‰“å¡</view>
      <view class="btn {{currentSelectTripType == 'lijia' ? 'active' : ''}}" bindtap='selectedLijia' data-id='lijia'>ä¾‹å‡</view>
</view>
<!-- æ‰“å¡æ•´ä½“ -->  
<view style="display: {{displayDaka}};">
 <!--æ‰“å¡æ—¥å†-->  
 <view  >
    <view class='calendar_title flex_nowrap'>
    <view class='icon' bindtap='lastMonth'>
      <image src='./left.png' />
    </view>
    <view class="dateeee">{{year}}å¹´{{month}}æœˆ</view>
    <view class='icon' bindtap='nextMonth'>
      <image src='./right.png' />
    </view>
  </view>
 </view>
<view class='header'>
    <view wx:for='{{date}}' wx:key="index" class='{{(index == todayIndex) && isTodayWeek ? "weekMark" : ""}}'>{{item}}<view></view></view>
</view>
<view class='date-box'>
    <view wx:for='{{dateArr}}' wx:key="index" class='{{isToday == item.isToday ? "nowDay" : ""}}' data-date='{{item.isToday}}'>
        <view class='date-head'>
            <view class='date-num'>{{item.dateNum}}</view>
        </view>
    </view>
</view>

<!--æ‰“å¡å†…å®¹-->
<view class="cont_style"  wx:if="{{userName}}">{{userName}}çš„ğŸ¦:{{userIntegral || 0}} ğŸ¦</view>
  <view class="power" wx:key="title" wx:for="{{powerList}}" wx:for-item="power">
    <view wx:if="{{power.showItem}}">
      <view wx:key="title" wx:for="{{power.item}}">
        <view class="power_item" bindtap="jumpPage" data-page="{{item.page}}">
          <view class="power_item_title">{{item.title}}</view>
          <image class="power_item_icon" src="../../images/arrow.svg"></image>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- ä¾‹å‡æ•´ä½“ -->  
<view style="display: {{displayLijia}};">
<!-- æ—¥å†å¹´æœˆ -->
<view class='calendar_title flex_nowrap'>
  <view class='icon' bindtap='lastMonth'>
    <image src='./left.png' />
  </view>
  <view class="dateeee">{{year}}å¹´{{month}}æœˆ</view>
  <view class='icon' bindtap='nextMonth'>
    <image src='./right.png' />
  </view>
</view>
<view class='header'>
        <view wx:for='{{date}}' wx:key="index" class='{{(index == todayIndex) && isTodayWeek ? "weekMark" : ""}}'>{{item}}<view></view></view>
    </view>
<view class='date-box'>
    <block wx:for='{{dateArr}}' wx:key='dateArr'>
      
        <view class='{{isToday == item.isToday ? "nowDay" : ""}}'>
            <view class='date-head' bindtap='' data-year='{{year}}' data-month='{{month}}' data-datenum='{{item.dateNum}}'>
               
                <view class='date-num'>{{item.dateNum}}</view>
                <view 
                class='{{item.isInPeriodList ? "isInPeriodList" : ""}}' 
                wx:if="{{item.isInPeriodList}}">                
                </view>
                <view 
                class='{{item.isInOvulationPeriod ? "isInOvulationPeriod" : ""}}' 
                wx:if="{{item.isInPeriodList}} or {{item.isInOvulationPeriod}} or {{item.isInPredictPeriod}} ">                
                </view>
                <view 
                class='{{item.isInPredictPeriod ? "isInPredictPeriod" : ""}}' 
                wx:if="{{item.isInPredictPeriod}} ">                
                </view>
                <view class='{{isToday == item.isToday ? "istoday" : ""}}' wx:if="{{isToday == item.isToday}}">
                    ä»Šå¤©
                </view>  
            </view>
        </view>
    </block>
    </view>
    <view class="date-mark">
        <view class='period'>
            <view class='view1'></view>
            <view class='view2'>ç»æœŸ</view>     
        </view>
        <view class='periodForcast'>
            <view class='view1'></view>
            <view class='view2'>é¢„æµ‹ç»æœŸæ—¶é—´</view>     
        </view>
        <view class='ovulation'>
            <view class='view1'></view>
            <view class='view2'>æ’åµæœŸ</view>     
        </view>
          
    </view>
  <!--è®°å½•ä¾‹å‡å¼€å§‹-->
<view class="record-main">

    <block wx:if="{{isInPeriod}}"> 
        <view class="nextToCome">
            <view class="forcast">
                é¢„è®¡ä¸‹æ¬¡å¼€å§‹æ—¥æœŸ
            </view> 
            <view class="left" wx:if='{{nextPeriodCount>=0}}'>
                è¿˜å‰© 
                <view class="number">{{nextPeriodCount}}</view>
                å¤©
            </view>
            <view class="left" wx:if='{{nextPeriodCount<0}}'>
                æ¨è¿Ÿ
                <view class="number">{{-nextPeriodCount}}</view>
                å¤©
            </view>

        </view>

        <view class="icon" wx:if="{{isInPeriod}}">
            <image class="" src="./cola.png" mode="widthFix"/>
        </view>

        <view class="button-come">
            <picker mode="date" class="picker" value="{{date}}" start="2019-01-01" end="{{year}}-{{month}}-{{totalDay}}" bindchange="bindDateChange">
                å¤§å§¨å¦ˆæ¥äº†
            </picker>
        </view>

    </block>

    <block wx:if="{{!isInPeriod}}">
      <!-- <view class="cont_style_lijia"  > å¤§å§¨å¦ˆæ¥äº† ç¬¬ {{periodCount}} å¤©</view> -->
      <view class="nextToCome">
        
        <view class="forcast">
            å¤§å§¨å¦ˆæ¥äº†
        </view>
        
        <view class="left">
            ç¬¬
            <view class="number">{{periodCount}}</view>
            å¤©
        </view>
    </view>

        <view class="icon" wx:if="{{!isInPeriod}}">
            <image class="" src="./candy.png" mode="widthFix"/>  
        </view>
        <view class="button-come" style="opacity: 0.9;">
            <picker  mode="date" class="picker" value="{{date}}" start="2019-01-01" end="{{year}}-{{month}}-{{totalDay}}" bindchange="bindDateChange">
            å¤§å§¨å¦ˆèµ°äº†
            </picker>
        </view>

    </block>
</view>



  </view>

</view>
   
<cloud-tip-modal showUploadTipProps="{{showUploadTip}}"></cloud-tip-modal>





</view>
